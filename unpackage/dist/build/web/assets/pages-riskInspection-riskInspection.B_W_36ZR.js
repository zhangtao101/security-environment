import{r as e,q as a,C as s,D as t,l,a as o,b as r,A as n,h as i,o as c,e as u,y as d,z as p,F as m,j as f,t as g,n as _,B as k}from"./index-Cztqg-WN.js";import{_ as h}from"./wd-tag.COAOP8ms.js";import{_ as w,l as y,r as v,n as j}from"./useChildren.DGM8SC5-.js";import{_ as x}from"./wd-cell.DAZeU475.js";import{_ as C}from"./wd-cell-group.CnayfOft.js";import{_ as z}from"./wd-message-box.DaRX51b7.js";import{_ as D}from"./wd-toast.GkP24f1O.js";import{r as b,c as E}from"./request.C0iyF09t.js";const I=w({__name:"riskInspection",setup(w){const I=e([]);function A(){Promise.all([b({url:`/${E.mesMain}/riskcheck/execution/taskList`,data:{area:"",pageNum:1,pageSize:9999},needAuth:!0,method:"GET"}),b({url:`/${E.mesMain}/riskcheck/execution/taskListEd`,data:{area:"",pageNum:1,pageSize:9999},needAuth:!0,method:"GET"})]).then((([e,a])=>{I.value=[...e.list,...a.list],console.log(I.value)})).finally((()=>{n()}))}const F=e(1);return a((()=>{A();s().proxy.getOpenerEventChannel().on("acceptDataFromOpenerPage",(function(e){F.value=e.type,t({title:2===F.value?"风险上报任务":"巡检任务"})}))})),y((()=>{A()})),(e,a)=>{const s=i,t=v(l("wd-tag"),h),n=v(l("wd-icon"),j),w=v(l("wd-cell"),x),y=v(l("wd-cell-group"),C),b=v(l("wd-message-box"),z),E=v(l("wd-toast"),D);return c(),o(s,{style:{"margin-top":"1em"}},{default:r((()=>[u(y,null,{default:r((()=>[(c(!0),d(m,null,p(I.value,((e,a)=>(c(),o(w,{key:a,center:""},{title:r((()=>[u(s,null,{default:r((()=>[u(s,null,{default:r((()=>[f(g(e.area),1)])),_:2},1024),u(s,{style:{display:"inline-block",color:"#7f7f7f","font-size":"15rpx"}},{default:r((()=>[f(g(e.riskCode)+" ",1),u(t,{"custom-class":"space",type:"primary"},{default:r((()=>[f(g(e.checkType),1)])),_:2},1024)])),_:2},1024),u(s,{class:_(["status",e.state?"success":"notStarted"])},{default:r((()=>[f(g(e.state?"已完成":"未开始"),1)])),_:2},1032,["class"])])),_:2},1024)])),default:r((()=>[u(n,{name:"arrow-right",size:"22px",onClick:a=>{return s=e,void k({url:"/pages/riskInspectionDetails/riskInspectionDetails",success(e){e.eventChannel.emit("acceptDataFromOpenerPage",{id:s.id})}});var s}},null,8,["onClick"])])),_:2},1024)))),128))])),_:1}),u(b),u(E)])),_:1})}}},[["__scopeId","data-v-4d523cc8"]]);export{I as default};
