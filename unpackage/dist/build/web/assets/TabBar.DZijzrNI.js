import{d as e,c as a,o as t,a as s,b as o,f as l,n as r,g as n,j as i,t as d,x as u,h as c,e as p,N as m,O as b,G as v,r as f,w as _,q as y,P as g,u as h,C as x,l as w,m as C}from"./index-BP_ofNMV.js";import{g as I,q as S,b as $,m as N,s as k,h as V,f as B,k as D,_ as j,c as T,a as z,u as G,p as P,t as q,v as A,w as H,j as O,x as Z,r as U}from"./useChildren.CAjn426h.js";/* empty css                                                               */const E=j(e({name:"wd-badge",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...I,modelValue:S,showZero:$(!1),bgColor:String,max:Number,isDot:Boolean,hidden:Boolean,type:N(void 0),top:S,right:S},setup(e){const p=e,m=a((()=>{const{modelValue:e,max:a,isDot:t}=p;if(t)return"";let s=e;return s&&a&&k(s)&&!Number.isNaN(s)&&!Number.isNaN(a)&&(s=a<s?`${a}+`:s),s})),b=a((()=>{const e={};return V(p.bgColor)&&(e.backgroundColor=p.bgColor),V(p.top)&&(e.top=B(p.top)),V(p.right)&&(e.right=B(p.right)),D(e)})),v=a((()=>!p.hidden&&(m.value||0===m.value&&p.showZero||p.isDot)));return(e,a)=>{const p=c;return t(),s(p,{class:r(["wd-badge",e.customClass]),style:n(e.customStyle)},{default:o((()=>[l(e.$slots,"default",{},void 0,!0),v.value?(t(),s(p,{key:0,class:r(["wd-badge__content","is-fixed",e.type?"wd-badge__content--"+e.type:"",e.isDot?"is-dot":""]),style:n(b.value)},{default:o((()=>[i(d(m.value),1)])),_:1},8,["class","style"])):u("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-8ac8e3a7"]]),F=Symbol("wd-tabbar"),J={...I,modelValue:T(0),fixed:$(!1),bordered:$(!0),safeAreaInsetBottom:$(!1),shape:N("default"),activeColor:String,inactiveColor:String,placeholder:$(!1),zIndex:z(99)},K=j(e({name:"wd-tabbar-item",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...I,title:String,name:S,icon:String,value:{type:[Number,String,null],default:null},isDot:{type:Boolean,default:void 0},max:Number,badgeProps:Object},setup(e){const f=e,{parent:_,index:y}=G(F),g=a((()=>{const e=q(V(f.badgeProps)?A(f.badgeProps,H):{},A({max:f.max,isDot:f.isDot,modelValue:f.value},H));return V(e.max)||(e.max=99),e})),h=a((()=>{const e={};return _&&(x.value&&_.props.activeColor&&(e.color=_.props.activeColor),!x.value&&_.props.inactiveColor&&(e.color=_.props.inactiveColor)),`${D(e)}`})),x=a((()=>{const e=V(f.name)?f.name:y.value;return!!_&&_.props.modelValue===e}));function w(){const e=V(f.name)?f.name:y.value;_&&_.setChange({name:e})}return(e,a)=>{const f=v,_=c;return t(),s(_,{class:r(`wd-tabbar-item ${e.customClass}`),style:n(e.customStyle),onClick:w},{default:o((()=>[p(E,m(b(g.value)),{default:o((()=>[p(_,{class:"wd-tabbar-item__body"},{default:o((()=>[l(e.$slots,"icon",{active:x.value},void 0,!0),!e.$slots.icon&&e.icon?(t(),s(P,{key:0,name:e.icon,"custom-style":h.value,"custom-class":"wd-tabbar-item__body-icon "+(x.value?"is-active":"is-inactive")},null,8,["name","custom-style","custom-class"])):u("",!0),e.title?(t(),s(f,{key:1,style:n(h.value),class:r("wd-tabbar-item__body-title "+(x.value?"is-active":"is-inactive"))},{default:o((()=>[i(d(e.title),1)])),_:1},8,["style","class"])):u("",!0)])),_:3})])),_:3},16)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-c3976566"]]),L=j(e({name:"wd-tabbar",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:J,emits:["change","update:modelValue"],setup(e,{emit:i}){const d=e,u=i,m=f(""),{proxy:b}=x(),{linkChildren:v}=O(F);v({props:d,setChange:function(e){let a=e.name;u("update:modelValue",a),u("change",{value:a})}});const w=a((()=>{const e={};return V(d.zIndex)&&(e["z-index"]=d.zIndex),`${D(e)}${d.customStyle}`}));function C(){d.fixed&&d.placeholder&&Z(".wd-tabbar",!1,b).then((e=>{m.value=Number(e.height)}))}return _([()=>d.fixed,()=>d.placeholder],(()=>{C()}),{deep:!0,immediate:!1}),y((()=>{d.fixed&&d.placeholder&&g((()=>{C()}))})),(e,a)=>{const i=c;return t(),s(i,{class:r({"wd-tabbar__placeholder":e.fixed&&e.placeholder&&e.safeAreaInsetBottom&&"round"===e.shape}),style:n({height:h(B)(m.value)})},{default:o((()=>[p(i,{class:r(`wd-tabbar wd-tabbar--${e.shape} ${e.customClass} ${e.fixed?"is-fixed":""} ${e.safeAreaInsetBottom?"is-safe":""} ${e.bordered?"is-border":""}`),style:n(w.value)},{default:o((()=>[l(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-b6d588fd"]]),M=j({__name:"TabBar",props:{tabbar:{type:String,default:"onSiteInspection"}},setup(e){const a=e,l=f();return y((()=>{l.value=a.tabbar})),(e,a)=>{const r=U(w("wd-tabbar-item"),K),n=U(w("wd-tabbar"),L),i=c;return t(),s(i,{class:"footer"},{default:o((()=>[p(n,{modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),onChange:a[1]||(a[1]=e=>function(){switch(l.value){case"onSiteInspection":return void C({url:"/pages/inspectionTask/inspectionTask"});case"report":return void C({url:"/pages/report/report"});case"my":return void C({url:"/pages/my/my"})}}())},{default:o((()=>[p(r,{title:"巡检",icon:"file-unknown",name:"onSiteInspection"}),p(r,{title:"上报",icon:"warning",name:"report"}),p(r,{title:"我的",icon:"user",name:"my"})])),_:1},8,["modelValue"])])),_:1})}}},[["__scopeId","data-v-ff7490f3"]]);export{M as T};
