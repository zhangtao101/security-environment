import{d as a,r as s,w as o,c as e,o as l,a as t,b as n,f as c,x as u,e as i,g as d,E as r,u as m,y as p,j as f,t as y,F as _,n as g,h as v,I as k,G as b}from"./index-4xE3Jiky.js";import{g as h,b as w,m as C,n as $,k as x,_ as I}from"./useChildren.ogl1P_NW.js";import{u as S}from"./request.BbQ2wDkA.js";const j=I(a({name:"wd-tag",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{...h,useIconSlot:w(!1),type:C("default"),icon:C(""),closable:w(!1),plain:w(!1),dynamic:w(!1),color:C(""),bgColor:C(""),round:w(!1),mark:w(!1)},emits:["click","close","confirm"],setup(a,{emit:h}){const w=a,C=h,{translate:I}=S("tag"),j=s(""),V=s(""),G=s(!1);o([()=>w.useIconSlot,()=>w.icon,()=>w.plain,()=>w.dynamic,()=>w.round,()=>w.mark],(()=>{F()}),{deep:!0,immediate:!0}),o((()=>w.type),(a=>{if(!a)return;const s=["primary","danger","warning","success","default"];-1===s.indexOf(a)&&console.error(`type must be one of ${s.toString()}`),F()}),{immediate:!0}),o((()=>G.value),(()=>{F()}),{immediate:!0});const q=e((()=>`wd-tag ${w.customClass} ${j.value}`)),B=e((()=>{const a={};return!w.plain&&w.bgColor&&(a.background=w.bgColor),w.bgColor&&(a["border-color"]=w.bgColor),`${x(a)}${w.customStyle}`})),E=e((()=>{const a={};return w.color&&(a.color=w.color),x(a)}));function F(){const{type:a,plain:s,round:o,mark:e,dynamic:l,icon:t,useIconSlot:n}=w;let c=[];a&&c.push(`is-${a}`),s&&c.push("is-plain"),o&&c.push("is-round"),e&&c.push("is-mark"),l&&c.push("is-dynamic"),G.value&&c.push("is-dynamic-input"),(t||n)&&c.push("is-icon"),j.value=c.join(" ")}function H(a){C("click",a)}function O(a){C("close",a)}function U(){G.value=!0,V.value=""}function z(){D()}function A(a){D(),C("confirm",{value:a.detail.value})}function D(){G.value=!1}return(a,s)=>{const o=v,e=k,h=b;return l(),t(o,{class:g(q.value),style:d(B.value),onClick:H},{default:n((()=>[a.useIconSlot?(l(),t(o,{key:0,class:"wd-tag__icon"},{default:n((()=>[c(a.$slots,"icon",{},void 0,!0)])),_:3})):a.icon?(l(),t($,{key:1,name:a.icon,"custom-class":"wd-tag__icon"},null,8,["name"])):u("",!0),i(o,{class:"wd-tag__text",style:d(E.value)},{default:n((()=>[c(a.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),a.closable&&a.round?(l(),t(o,{key:2,class:"wd-tag__close",onClick:r(O,["stop"])},{default:n((()=>[i($,{name:"error-fill"})])),_:1})):u("",!0),G.value&&a.dynamic?(l(),t(e,{key:3,class:"wd-tag__add-text",placeholder:m(I)("placeholder"),type:"text",focus:!0,modelValue:V.value,"onUpdate:modelValue":s[0]||(s[0]=a=>V.value=a),onBlur:z,onConfirm:A},null,8,["placeholder","modelValue"])):a.dynamic?(l(),t(o,{key:4,class:"wd-tag__text",style:d(E.value),onClick:r(U,["stop"])},{default:n((()=>[a.$slots.add?c(a.$slots,"add",{key:0},void 0,!0):(l(),p(_,{key:1},[i($,{name:"add","custom-class":"wd-tag__add wd-tag__icon"}),i(h,null,{default:n((()=>[f(y(m(I)("add")),1)])),_:1})],64))])),_:3},8,["style"])):u("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-15996acc"]]);export{j as _};
